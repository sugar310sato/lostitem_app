# インストーラー関連ファイル一覧

## 作成されたファイル

### ビルドスクリプト
- **build_installer.bat** - ワンクリックビルドスクリプト
  - PyInstallerでEXEファイルをビルド
  - Inno Setupでインストーラーを作成
  - エラーハンドリング付き

### 設定ファイル
- **installer.iss** - Inno Setupスクリプト
  - インストール先の設定
  - ショートカットの設定
  - データディレクトリの配置
  - アンインストール機能

- **flet_app.spec** - PyInstaller設定ファイル（更新済み）
  - リソースファイルの指定
  - 隠しモジュールの追加
  - YOLOモデルの埋め込み

### ドキュメント
- **README_インストーラー.md** - クイックリファレンス
- **インストーラー作成ガイド.md** - メインガイド
- **インストーラー作成手順.md** - 詳細手順書
- **アプリケーション構成.md** - ファイル構成説明
- **インストーラー関連ファイル一覧.md** - このファイル

## 使用方法

### 初回セットアップ

1. **Inno Setup をインストール**
   ```
   ダウンロード: https://jrsoftware.org/isdl.php
   インストール: デフォルト設定でOK
   ```

2. **インストーラーを作成**
   ```batch
   build_installer.bat
   ```

### カスタマイズ

#### バージョン番号の変更
`installer.iss` の1行目を編集：
```iss
#define MyAppVersion "1.1.0"  ← ここを変更
```

#### アプリ名の変更
`installer.iss` の4行目を編集：
```iss
#define MyAppName "新アプリ名"
```

#### 会社名の変更
`installer.iss` の6-7行目を編集：
```iss
#define MyAppPublisher "あなたの会社名"
#define MyAppURL "https://yourwebsite.com/"
```

## ディレクトリ構造

```
lostitem_app/
├── build_installer.bat          ← 実行するスクリプト
├── installer.iss                 ← Inno Setup設定
├── flet_app.spec                 ← PyInstaller設定（更新済み）
├── dist/
│   └── flet_app.exe              ← ビルド済み実行ファイル
└── installer/
    └── 拾得物管理システム_Setup_1.0.0.exe  ← 完成したインストーラー

README_インストーラー.md          ← 使い方
インストーラー作成ガイド.md       ← 詳細ガイド
インストーラー作成手順.md         ← 手順書
アプリケーション構成.md           ← ファイル構成
```

## 重要な設定

### データ保存先

現在の設定では：
- **アプリケーションファイル**: `C:\Program Files\拾得物管理システム\`
- **データファイル**: `C:\ProgramData\拾得物管理システム\data\`

### ショートカット

- デスクトップショートカット（ユーザー選択可能）
- スタートメニュー: `拾得物管理システム > 拾得物管理システム`
- アンインストールショートカット（スタートメニューに自動追加）

## トラブルシューティング

### よくある問題

#### 1. Inno Setupが見つからない
**症状**: `build_installer.bat` で警告メッセージが表示される

**解決方法**: Inno Setupをインストールしてください

#### 2. ビルドエラー
**症状**: `hiddenimport` エラーが発生する

**解決方法**: 
```powershell
# デバッグモードで再ビルド
pyinstaller --log-level DEBUG flet_app.spec
```

#### 3. アプリが起動しない
**症状**: インストール後、アプリが起動しない

**解決方法**: 
- PyInstallerの設定を確認
- ログファイルを確認: `C:\ProgramData\拾得物管理システム\data\logs\`

## 更新履歴

### v1.0.0 (2025/01/XX)
- 初版リリース
- 基本的なインストール機能
- デスクトップショートカット
- アンインストール機能

## ライセンス

このプロジェクトのライセンス情報は各ファイルに記載されています。

